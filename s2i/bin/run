#!/bin/sh -e
#
# S2I run script for the 'hugo-alpine3' image.
# The run script executes the server that runs your application.
#
# For more information see the documentation:
#	https://github.com/openshift/source-to-image/blob/master/docs/builder_image.md
#

if [ -z $HUGO_OPTIONS ]
then
    export HUGO_OPTIONS="
    --source /opt/hugo/src \
    --buildDrafts \
    --buildExpired \
    --buildFuture \
    --appendPort=false
    --bind 0.0.0.0 \
    --destination /tmp/hugo-data \
    --cacheDir /tmp/hugo-cache \
    --disableLiveReload=true \
    --watch=false \
    --verbose \
    --log \
    --debug \
    --verboseLog \
    --path-warnings \
    --minify \
    --noTimes \
    --print-mem"
fi

exec hugo server --baseURL=${HUGO_BASE_URL} ${HUGO_OPTIONS}
  

